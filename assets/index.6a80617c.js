import{u as e,R as t,r as n,a,b as o,A as c}from"./vendor.fa0d9d19.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const l="7fa48de6bdb0c481e3ac5cac4998a9d20fca264559d55117198ad49159786c51",r="PAR_autolabonneboite_c45c92056249a4b422f3fd3101a6d533ca72d3f60a2389ac5a23b7c99a2216f6",i=()=>{const{loginWithPopup:n}=e();return console.log(n),t.createElement("button",{onClick:()=>n()},"Log In")},s=()=>{const{logout:n}=e();return t.createElement("button",{onClick:()=>n({returnTo:window.location.origin})},"Log Out")},p=()=>{const{user:a,isAuthenticated:o,getAccessTokenSilently:c}=e(),[l,r]=n.exports.useState(null);return n.exports.useEffect((()=>{(async()=>{const e="autolabonneboitetest.eu.auth0.com";try{const t=await c({audience:`https://${e}/api/v2/`,scope:"read:current_user"}),n=`https://${e}/api/v2/users/${a.sub}`,o=await fetch(n,{headers:{Authorization:`Bearer ${t}`}}),{user_metadata:l}=await o.json();r(l)}catch(t){console.log(t.message)}})()}),[c,null==a?void 0:a.sub]),o&&t.createElement("div",null,t.createElement("img",{src:a.picture,alt:a.name}),t.createElement("h2",null,a.name),t.createElement("p",null,a.email),t.createElement("h3",null,"User Metadata"),l?t.createElement("pre",null,JSON.stringify(l,null,2)):"No user metadata defined")};function u(){const[e,o]=n.exports.useState(0);new URLSearchParams({data:{grant_type:"client_credentials",client_id:r,client_secret:l,scope:`application_${r}%20api_labonneboitev1`}}).toString();let c=`grant_type=client_credentials&client_id=${r}&client_secret=${l}&scope=application_${r}%20api_labonneboitev1`;console.log(c);let u={headers:{"content-type":"application/x-www-form-urlencoded"},method:"post",url:"https://entreprise.pole-emploi.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",data:c};JSON.stringify({grant_type:"client_credentials",client_id:r,client_secret:l,scope:`application_${r}%20api_labonneboitev1`});let d={async:!0,crossDomain:!0,url:"https://autolabonneboitetest.eu.auth0.com/oauth/token",method:"POST",headers:{"content-type":"application/json"},data:'{"client_id":"F95jH7EyStdYDBjsPS0JTBWbHSywz3lT","client_secret":"NbhwpKjEB4OoELHEvA_4y_EwGrW_DahruUZwXQBd7IUBzozUfD05lDZvL_VgmFLZ","audience":"https://autolabonneboitetest.eu.auth0.com/api/v2/","grant_type":"client_credentials"}'},m={async:!0,crossDomain:!0,url:"https://entreprise.pole-emploi.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:'{"client_id":"PAR_autolabonneboite_c45c92056249a4b422f3fd3101a6d533ca72d3f60a2389ac5a23b7c99a2216f6","client_secret":"7fa48de6bdb0c481e3ac5cac4998a9d20fca264559d55117198ad49159786c51","audience":"https://entreprise.pole-emploi.fr/connexion/oauth2/access_token?realm=%2Fpartenaire","grant_type":"client_credentials"}'};return t.createElement("div",{className:"App"},t.createElement("header",{className:"App-header"},t.createElement("p",null,"Hello Vite + React!"),t.createElement("p",null,t.createElement("button",{type:"button",onClick:()=>o((e=>e+1))},"count is: ",e),t.createElement("button",{type:"button",onClick:()=>a(u).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},"Requete"),t.createElement("button",{type:"button",onClick:()=>$.ajax(d).done((function(e){console.log(e)}))},"avec jQuery"),t.createElement("button",{type:"button",onClick:()=>a.post("https://autolabonneboitetest.eu.auth0.com/oauth/token",{grant_type:"client_credentials",client_id:"F95jH7EyStdYDBjsPS0JTBWbHSywz3lT",client_secret:"NbhwpKjEB4OoELHEvA_4y_EwGrW_DahruUZwXQBd7IUBzozUfD05lDZvL_VgmFLZ",audience:"https://autolabonneboitetest.eu.auth0.com/api/v2/"}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},"avec Axios "),t.createElement("button",{type:"button",onClick:()=>$.ajax(m).done((function(e){console.log(e)}))},"avec jQuery mais pour la vraie bonne boite"),t.createElement("button",{type:"button",onClick:()=>a.post("https://entreprise.pole-emploi.fr/connexion/oauth2/access_token",JSON.stringify({grant_type:"client_credentials",client_id:r,client_secret:l,audience:"https://api.emploi-store.fr/partenaire/labonneboite/v1/company/",scope:`application_${r}%20api_labonneboitev1`})).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},"avec Axios mais pour la vraie bonne boite"),t.createElement("button",{type:"button",onClick:()=>a.post("https://entreprise.pole-emploi.fr/connexion/oauth2/access_token?realm=%2Fpartenaire","grant_type=client_credentials&client_id=PAR_autolabonneboite_c45c92056249a4b422f3fd3101a6d533ca72d3f60a2389ac5a23b7c99a2216f6&client_secret=7fa48de6bdb0c481e3ac5cac4998a9d20fca264559d55117198ad49159786c51&scope=application_PAR_autolabonneboite_c45c92056249a4b422f3fd3101a6d533ca72d3f60a2389ac5a23b7c99a2216f6%20api_labonneboitev1&audience=https%3A%2F%2Fentreprise.pole-emploi.fr%2Fconnexion%2Foauth2%2Faccess_token%3Frealm%3D%2Fpartenaire").then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},"avec Axios mais pour la vraie bonne boite test")),t.createElement("p",null,"Edit ",t.createElement("code",null,"App.jsx")," and save to test HMR updates."),t.createElement("p",null,t.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")," | ",t.createElement("a",{className:"App-link",href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener noreferrer"},"Vite Docs")),t.createElement(p,null),t.createElement(i,null),t.createElement(s,null)))}o.render(t.createElement(t.StrictMode,null,t.createElement(c,{domain:"http://localhost:3010/",clientId:"6141bafe2ca144004086a678"},t.createElement(u,null))),document.getElementById("root"));
